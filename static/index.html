<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
   <title>quietbox</title>
</head>
<body>
<h1>list</h1>
   <div id="app" v-cloak>
      <div v-for="m in musics">
         <div>
            {{ m.id }}
            {{ m.name }}
            <button @click="play(m.id)">播放</button>
         </div>
      </div>
   </div>


   <script src="http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.9.3/vue-resource.min.js"></script>
   <script>
      var vue = new Vue({
         el: '#app',
         data: {
            musics: []
         },
         compiled: function() {
            var self = this;
            self.$http.get('/local/list').then(function(res) {
               self.musics = res.data.musics;
            });
         },
         methods: {
            play: function(id) {
               var self = this;
               self.$http.get('/local/play/'+id);
            }
         }
})
   </script>
</body>
</html>
